<html>

<head>
<title>Androwarn Service Installation</title>
<link rel="stylesheet" href="stylesheets/appvet.css">
</head>

<body>

	<h1 id="installation">Tool Installation</h1>
	Installation of the Androwarn tool requires the following
	steps:
	</p>
	<ul>
		<li class="big"><a href="#dependencies" target="rightframe">Step
				1: Install Dependencies</a>
		<li class="big"><a href="#download" target="rightframe">Step
				2: Download and Install Androwarn</a>
		<li class="big"><a href="#envvar" target="rightframe">Step 3:
				Set Environment Variables</a>
		<li class="big"><a href="#conf" target="rightframe">Step 4:
				Configure</a>
		<li class="big"><a href="#test" target="rightframe">Step 5:
				Test</a>
	</ul>

	<hr>
	<h2 id="dependencies">Step 1: Install Dependencies</h2>

	The Androwarn service requires the installation of Oracle JDK and
	Apache Tomcat. If Androwarn is installed on the same
	server as AppVet, then Oracle JDK and Apache Tomcat should already be
	installed. Otherwise, to install Oracle JDK, see the instructions for
	<a class="underline"
		href="http://appvet.github.io/appvet/dependencies.html#java">Installing
		Oracle JDK</a>. To install Apache Tomcat, see the instructions for
	<a class="underline"
		href="http://appvet.github.io/appvet/dependencies.html#tomcat">Installing
		Apache Tomcat</a>. In addition, the Androwarn tool must also be installed. 
		To install Androwarn, follow the directions on the 
		<a href="https://github.com/maaaaz/androwarn" class="underline" target="_blank">Androwarn Github page</a>.
		

	<h2 id="download">Step 2. Download and Install Androwarn</h2>

	<h3>Download</h3>

	<ul>
		<li><b>Step a:</b> Download the latest Androwarn service 
			binary release <code>android-androwarn-tool-x.x-binary.tar.gz</code>
			file from <a class="underline"
			href="https://github.com/AppVet/android-androwarn-toolservice/releases"
			target="_blank">https://github.com/AppVet/android-androwarn-toolservice/releases</a>.</li>
		<li><b>Step b:</b> Extract the compressed file onto your local
			machine (e.g., using <code>tar -zxvf
				android-androwarn-tool-x.x-binary.tar.gz</code>)</li>
	</ul>
	<h3>Install</h3>

	Before installing the Androwarn service, ensure that Apache Tomcat is
	shutdown. Then, from the extracted Androwarn service binary
	release:

	<ul>
		<li><b>Step a:</b> Copy the <code>android-androwarn-tool.war</code>
			file to <code>$CATALINA_HOME/webapps</code>.</li>
		<li><b>Step b:</b> Copy the <code>android_androwarn_files</code>
			directory to your <code>$HOME</code> (i.e., <code>/home/&lt;username&gt</code>)
			directory.</li>
	</ul>

	<h2 id="envvar">Step 3. Set Environment Variable</h2>

	To ensure proper operation of the Androwarn service, set a global
	environment variable
	<code>$ANDROID_ANDROWARN_FILES_HOME</code>
	to the installation path of your
	<code>android_androwarn_files</code>
	directory. For example, if
	<code>android_androwarn_files</code>
	was copied to your
	<code>$HOME</code>
	directory , set:

	<p style="text-indent: 5em;">
		<code>$ANDROID_ANDROWARN_FILES_HOME=/home/&lt;username&gt;/android_androwarn_files</code>
	</p>

	</code>
	To ensure the proper setting of global environment variables under
	CentOS/RedHat, see
	<a class="underline"
		href="http://appvet.github.io/appvet/environment_variables.html"
		target="rightframe">Setting Global Environment Variables</a>.


	<h2 id="conf">Step 4. Configure</h2>

	Edit the
	<code>$ANDROID_ANDROWARN_FILES_HOME/conf/ToolProperties.xml</code>
	file as follows:

	<h4>ServiceURL</h4>
	Set the
	<code>&lt;appvet:ServiceURL&gt;</code>
	property that defines the URL of the Androwarn service that
	should be used by AppVet to initiate a connection. If Androwarn service is installed on the same server as AppVet, then set
	<code>&lt;appvet:ServiceURL&gt;</code>
	to:
	<p>
	<pre>
		<code>
   &lt;appvet:ServiceURL&gt;http://127.0.0.1:8080/android-androwarn-toolservice&lt;/appvet:ServiceURL&gt;
		</code>
		</pre>
	</p>
	If, however, the Androwarn service is installed on a different server
	than AppVet (e.g.,
	<code>tools.example.com</code>
	) using SSL and port 443, set
	<code>&lt;appvet:ServiceURL&gt;</code>
	to:

	<p>
	<pre>
		<code>
   &lt;appvet:ServiceURL&gt;https://tools.example.com:8443/android-androwarn-toolservice&lt;/appvet:ServiceURL&gt;
		</code>
		</pre>
	</p>


	Note that the '
	<code>/android-androwarn-toolservice</code>
	' portion of the URL should never be modified.


	<h4>AppVet</h4>
	Set the
	<code>&lt;appvet:AppVet&gt;</code>
	property that defines the AppVet login information. Here, only two
	parameters should be set:
	<code>&lt;appvet:URL&gt;</code>
	and
	<code>&lt;appvet:Password&gt;</code>
	. Set the
	<code>&lt;appvet:URL&gt;</code>
	to the URL of the AppVet server. If AppVet resides on the same server,
	set
	<code>&lt;appvet:URL&gt;</code>
	to:

	<p>
	<pre>
		<code>
   &lt;appvet:URL&gt;http://127.0.0.1:8080/appvet/AppVetServlet&lt;/appvet:URL&gt;
		</code>
		</pre>
	</p>
	If AppVet resides on a different server (e.g.,
	<code>server.mytest.org</code>
	) using SSL and port 8443, set
	<code>&lt;appvet:URL&gt;</code>
	to:

	<p>
	<pre>
		<code>
   &lt;appvet:URL&gt;https://server.mytest.org:8443/appvet/AppVetServlet&lt;/appvet:URL&gt;
		</code>
		</pre>
	</p>

	Note that the '/appvet/AppVetServlet' portion of the URL should never
	be modified.
	<p>
		Next, replace 'androwarn-password' with the AppVet password for your
		Androwarn service in the
		<code>&lt;appvet:Password&gt;</code>
		property:
	<p>
	<pre>
		<code>
   &lt;appvet:Password&gt;androwarn-password&lt;/appvet:Password&gt;
		</code>
		</pre>
	</p>

	For more information on Tool Properties, see
	<a class="underline"
		href="http://appvet.github.io/appvet/schemas/ToolProperties.html"
		target="rightframe">Tool Properties</a>.

	<h2 id="test">Step 5. Test</h2>

	To test the proper installation of Androwarn service, start the
	tool by starting Apache Tomcat. If AppVet resides on the same server, starting
	Tomcat will start both AppVet and the tool. If AppVet resides on a different
	server, start Tomcat on that server. To start Tomcat, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># $HOME/apache-tomcat-8.&lt;version&gt;/bin/startup.sh</code>
	</p>
	<br>
	<br>
	<p>
	On the server hosting the tool, open a web browser with the following URL:
	
		<br>
	<br>
	<p style="text-indent: 5em;">
		<code>http://&lt;tool_server_host&gt;:&lt;port&gt;/android-androwarn-toolservice/index.html</code>
	</p>
	<br>
	<br>
	<p>
	If the message 'Androwarn service is running.' then the Androwarn service  
	was installed correctly.
	</p>
	<p>
		Next, log into AppVet, upload an app, and view the Androwarn service report. 
	<br>
	<br> If you experience errors connecting to the tool, verify the
	tool adapter properties (on the AppVet server) and verify the tool's
	properties (on the tool server).
	<br>
	<br>
	<br>


</body>

</html>